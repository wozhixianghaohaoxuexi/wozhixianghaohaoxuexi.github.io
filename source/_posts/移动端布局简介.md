---
title: 移动端布局简介
date: 2022-02-14 11:35:13
categories:
  - css
tags:
---

### 一、视口

视口（viewport）就是浏览器显示页面内容的屏幕区域。视口可以分为布局视口、视觉视口和理想视口

#### 1、布局视口 layout viewport

* 一般移动设备的浏览器都默认设置了一个布局视口，用于解决早期的pc端页面在手机上显示的问题
* ios，android基本都将这个视口的分辨率设置为980px，所以pc上的网页大多都能在手机上呈现，只不过元素看上去很小，一般默认可以通过手动缩放网页

![布局视口](https://gitee.com/huqian025/my-images/raw/master/css/移动端布局简介/布局视口.png)

#### 2、视觉视口 visual viewport

* 字面意思，它是用户正在看到的网站的区域，注意：是网站的区域
* 我们可以通过缩放去操作视觉视口，但不会影响布局视口，布局视口仍保持原来的宽度

![视觉视口](https://gitee.com/huqian025/my-images/raw/master/css/移动端布局简介/视觉视口.png)

#### 3、理想视口 ideal viewport

* 为了使网站在移动端有最理想的浏览和阅读宽度而设定
* 理想视口，对设备来讲，是最理想的视口尺寸
* 需要手动添写meta视口标签通知浏览器操作
* meta视口标签的主要目的：布局视口的宽度应该和理想视口的宽度一致，简单理解就是设备有多宽，我们的布局视口就有多宽

#### 4、meta标签

`<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">`

![meta标签](https://gitee.com/huqian025/my-images/raw/master/css/移动端布局简介/meta标签.png)

### 二、二倍图

#### 1、物理像素&物理像素比

* 物理像素指的是屏幕显示的最小颗粒，是物理真实存在的。这是厂商出厂时就设置好了，比如苹果6/7/8是750 * 1334
* 我们开发时候的1px不一定等于1个物理像素
* pc端页面，1px等于1个物理像素，但移动端就不尽相同
* 一个px能显示的物理像素点个数，称为物理像素比或屏幕像素比

![物理像素&物理像素比](https://gitee.com/huqian025/my-images/raw/master/css/移动端布局简介/物理像素&物理像素比.png)

#### 2、多倍图

* 我们准备的图片比实际需要的大小大一倍，然后手动缩小为需要大小，这种方式就是2倍图。例如：需要50 * 50的图片，我们放一个100 * 100的图片，然后把图片宽高设置为50 * 50
* 对于一张50 * 50的图片，在手机Retina（视网膜屏幕）中打开，按照刚才的物理像素比会放大倍数，这样就会造成图片模糊
* 在标准的viewport设置中，使用倍图来提高图片质量，解决在高清设备中的模糊问题
* 通常使用二倍图，因为IPhone6/7/8的影响，但是现在还存在3倍图4倍图的情况，这个看实际开发公司需求
* 背景图片注意缩放问题

#### 3、背景缩放background-size

background-size属性规定了背景图片的尺寸 `background-size: 背景图片宽度 背景图片高度;`

* 单位：长度 | 百分比 | cover | contain
* cover：等比例缩放，要完全覆盖div盒子，可能有部分背景图片显示不全
* contain：高度和宽度等比例缩放，当宽度或高度铺满div盒子就不再进行拉伸了，可能有部分空白区域

#### 4、多倍图切图cutterman（ps插件）

![ps插件cutterman](https://gitee.com/huqian025/my-images/raw/master/css/移动端布局简介/ps插件cutterman.png)

### 三、移动端开发选择

#### 1、移动端主流方案

1. 单独制作移动端页面（主流）

2. 响应式页面兼容移动端（其次）

#### 2、单独移动端页面（主流）

通常情况下，网址域名前面加m（mobile）可以打开移动端。通过判断设备，如果是移动端打开，则跳到移动端页面

#### 3、响应式页面兼容pc移动端（其次）

三星电子官网：www.samsung.com/cn/，通过判断屏幕宽度来改变样式，以适应不同终端
缺点：制作麻烦，需要花很大精力去调兼容性问题

### 四、移动端技术解决方案

* 移动端浏览器，基本以webkit内核为主，可以放心使用h5标签和css3样式，同时浏览器的私有前缀只需要加webkit即可
* 移动端css初始化推荐使用normalize.css
* css3盒子模型box-sizing
    * 移动端可以全部css3盒子模型`box-sizing: border-box;`
    * pc端如果完全需要兼容，就用传统模式，如果不考虑兼容，就选择css3盒子模型
* 特殊样式
```css
/* css3盒子模型 */
box-sizing: border-box;
-webkit-box-sizing: border-box;

/* 点击高亮我们需要清除，设置为transparent完成透明*/
-webkit-tap-highlight-color: transparent;

/* 在移动端浏览器默认的外观，在IOS上加这个属性才能给按钮和输入框自定义样式 */
-webkit-appearance: none;

/* 禁用长按页面时的弹出菜单 */
img, a { -webkit-touch-callout: none; }
```

### 五、移动端技术选型

![移动端技术选型](https://gitee.com/huqian025/my-images/raw/master/css/移动端布局简介/移动端技术选型.png)
